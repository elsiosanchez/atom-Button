{
  "version": 3,
  "sources": ["../../../packages/components/progress/src/progress.ts", "../../../packages/components/progress/src/progress.vue", "../../../packages/components/progress/index.ts"],
  "sourcesContent": ["import { buildProps, definePropType } from '@element-plus/utils'\nimport type { ExtractPropTypes, SVGAttributes } from 'vue'\nimport type Progress from './progress.vue'\n\nexport type ProgressColor = { color: string; percentage: number }\nexport type ProgressFn = (percentage: number) => string\n\nexport const progressProps = buildProps({\n  type: {\n    type: String,\n    default: 'line',\n    values: ['line', 'circle', 'dashboard'],\n  },\n  percentage: {\n    type: Number,\n    default: 0,\n    validator: (val: number): boolean => val >= 0 && val <= 100,\n  },\n  status: {\n    type: String,\n    default: '',\n    values: ['', 'success', 'exception', 'warning'],\n  },\n  indeterminate: {\n    type: Boolean,\n    default: false,\n  },\n  duration: {\n    type: Number,\n    default: 3,\n  },\n  strokeWidth: {\n    type: Number,\n    default: 6,\n  },\n  strokeLinecap: {\n    type: definePropType<NonNullable<SVGAttributes['stroke-linecap']>>(String),\n    default: 'round',\n  },\n  textInside: {\n    type: Boolean,\n    default: false,\n  },\n  width: {\n    type: Number,\n    default: 126,\n  },\n  showText: {\n    type: Boolean,\n    default: true,\n  },\n  color: {\n    type: definePropType<string | ProgressColor[] | ProgressFn>([\n      String,\n      Array,\n      Function,\n    ]),\n    default: '',\n  },\n  format: {\n    type: definePropType<ProgressFn>(Function),\n    default: (percentage: number): string => `${percentage}%`,\n  },\n} as const)\n\nexport type ProgressProps = ExtractPropTypes<typeof progressProps>\nexport type ProgressInstance = InstanceType<typeof Progress>\n", "<template>\n  <div\n    :class=\"[\n      ns.b(),\n      ns.m(type),\n      ns.is(status),\n      {\n        [ns.m('without-text')]: !showText,\n        [ns.m('text-inside')]: textInside,\n      },\n    ]\"\n    role=\"progressbar\"\n    :aria-valuenow=\"percentage\"\n    aria-valuemin=\"0\"\n    aria-valuemax=\"100\"\n  >\n    <div v-if=\"type === 'line'\" :class=\"ns.b('bar')\">\n      <div\n        :class=\"ns.be('bar', 'outer')\"\n        :style=\"{ height: `${strokeWidth}px` }\"\n      >\n        <div\n          :class=\"[\n            ns.be('bar', 'inner'),\n            { [ns.bem('bar', 'inner', 'indeterminate')]: indeterminate },\n          ]\"\n          :style=\"barStyle\"\n        >\n          <div\n            v-if=\"(showText || $slots.default) && textInside\"\n            :class=\"ns.be('bar', 'innerText')\"\n          >\n            <slot :percentage=\"percentage\">\n              <span>{{ content }}</span>\n            </slot>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-else\n      :class=\"ns.b('circle')\"\n      :style=\"{ height: `${width}px`, width: `${width}px` }\"\n    >\n      <svg viewBox=\"0 0 100 100\">\n        <path\n          :class=\"ns.be('circle', 'track')\"\n          :d=\"trackPath\"\n          :stroke=\"`var(${ns.cssVarName('fill-color-light')}, #e5e9f2)`\"\n          :stroke-width=\"relativeStrokeWidth\"\n          fill=\"none\"\n          :style=\"trailPathStyle\"\n        />\n        <path\n          :class=\"ns.be('circle', 'path')\"\n          :d=\"trackPath\"\n          :stroke=\"stroke\"\n          fill=\"none\"\n          :opacity=\"percentage ? 1 : 0\"\n          :stroke-linecap=\"strokeLinecap\"\n          :stroke-width=\"relativeStrokeWidth\"\n          :style=\"circlePathStyle\"\n        />\n      </svg>\n    </div>\n    <div\n      v-if=\"(showText || $slots.default) && !textInside\"\n      :class=\"ns.e('text')\"\n      :style=\"{ fontSize: `${progressTextSize}px` }\"\n    >\n      <slot :percentage=\"percentage\">\n        <span v-if=\"!status\">{{ content }}</span>\n        <el-icon v-else><component :is=\"statusIcon\" /></el-icon>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport {\n  Check,\n  CircleCheck,\n  CircleClose,\n  Close,\n  WarningFilled,\n} from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { isFunction, isString } from '@element-plus/utils'\nimport { progressProps } from './progress'\nimport type { CSSProperties } from 'vue'\nimport type { ProgressColor } from './progress'\n\ndefineOptions({\n  name: 'ElProgress',\n})\n\nconst STATUS_COLOR_MAP: Record<string, string> = {\n  success: '#13ce66',\n  exception: '#ff4949',\n  warning: '#e6a23c',\n  default: '#20a0ff',\n}\n\nconst props = defineProps(progressProps)\n\nconst ns = useNamespace('progress')\n\nconst barStyle = computed<CSSProperties>(() => ({\n  width: `${props.percentage}%`,\n  animationDuration: `${props.duration}s`,\n  backgroundColor: getCurrentColor(props.percentage),\n}))\n\nconst relativeStrokeWidth = computed(() =>\n  ((props.strokeWidth / props.width) * 100).toFixed(1)\n)\n\nconst radius = computed(() => {\n  if (['circle', 'dashboard'].includes(props.type)) {\n    return Number.parseInt(\n      `${50 - Number.parseFloat(relativeStrokeWidth.value) / 2}`,\n      10\n    )\n  }\n  return 0\n})\n\nconst trackPath = computed(() => {\n  const r = radius.value\n  const isDashboard = props.type === 'dashboard'\n  return `\n          M 50 50\n          m 0 ${isDashboard ? '' : '-'}${r}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? '-' : ''}${r * 2}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? '' : '-'}${r * 2}\n          `\n})\n\nconst perimeter = computed(() => 2 * Math.PI * radius.value)\n\nconst rate = computed(() => (props.type === 'dashboard' ? 0.75 : 1))\n\nconst strokeDashoffset = computed(() => {\n  const offset = (-1 * perimeter.value * (1 - rate.value)) / 2\n  return `${offset}px`\n})\n\nconst trailPathStyle = computed<CSSProperties>(() => ({\n  strokeDasharray: `${perimeter.value * rate.value}px, ${perimeter.value}px`,\n  strokeDashoffset: strokeDashoffset.value,\n}))\n\nconst circlePathStyle = computed<CSSProperties>(() => ({\n  strokeDasharray: `${\n    perimeter.value * rate.value * (props.percentage / 100)\n  }px, ${perimeter.value}px`,\n  strokeDashoffset: strokeDashoffset.value,\n  transition:\n    'stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s',\n}))\n\nconst stroke = computed(() => {\n  let ret: string\n  if (props.color) {\n    ret = getCurrentColor(props.percentage)\n  } else {\n    ret = STATUS_COLOR_MAP[props.status] || STATUS_COLOR_MAP.default\n  }\n  return ret\n})\n\nconst statusIcon = computed(() => {\n  if (props.status === 'warning') {\n    return WarningFilled\n  }\n  if (props.type === 'line') {\n    return props.status === 'success' ? CircleCheck : CircleClose\n  } else {\n    return props.status === 'success' ? Check : Close\n  }\n})\n\nconst progressTextSize = computed(() => {\n  return props.type === 'line'\n    ? 12 + props.strokeWidth * 0.4\n    : props.width * 0.111111 + 2\n})\n\nconst content = computed(() => props.format(props.percentage))\n\nfunction getColors(color: ProgressColor[]) {\n  const span = 100 / color.length\n  const seriesColors = color.map((seriesColor, index) => {\n    if (isString(seriesColor)) {\n      return {\n        color: seriesColor,\n        percentage: (index + 1) * span,\n      }\n    }\n    return seriesColor\n  })\n  return seriesColors.sort((a, b) => a.percentage - b.percentage)\n}\n\nconst getCurrentColor = (percentage: number) => {\n  const { color } = props\n  if (isFunction(color)) {\n    return color(percentage)\n  } else if (isString(color)) {\n    return color\n  } else {\n    const colors = getColors(color)\n    for (const color of colors) {\n      if (color.percentage > percentage) return color.color\n    }\n    return colors[colors.length - 1]?.color\n  }\n}\n</script>\n", "import { withInstall } from '@element-plus/utils'\nimport Progress from './src/progress.vue'\n\nexport const ElProgress = withInstall(Progress)\nexport default ElProgress\n\nexport * from './src/progress'\n"],
  "mappings": "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",
  "names": []
}
